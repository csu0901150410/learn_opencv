<html window-frame="transparent" window-resizable>
    <head>
        <title>灰度图</title>
        <style>
            @import url(grayscale.css);
        </style>
        <script type="text/tiscript">

            include "grayscale.tis";

            function self.ready() {
                // we do post here as window is still in construction phase. Just to avoid needless draws
                this.post(::view.state = View.WINDOW_SHOWN);

                on_dom_load();
            }

            function self.closing(reason) {
                stdout << String.printf("Closing, reason: %s\n", reason);
            }

            $(input).on("keydown", function(evt){
                stdout.println(evt.keyCode);
            });

        </script>
    </head>

    <body>
        <header>
            <caption role="window-caption">Grayscale</caption>
            <button role="window-close"></button>
        </header>

        <div .div-label-input>
            <label>R</label>
            <input #param-red |decimal value="0.5">
        </div>
        <div .div-label-input>
            <label>G</label>
            <input #param-green |decimal value="15">
        </div>
        <div .div-label-input>
            <label>B</label>
            <input #param-blue |decimal value="50">
        </div>

        <div .div-bottom-buttons>
            <button #btnConfirm>确认</button>
            <button #btnCancel>取消</button>
        </div>
    </body>
</html>
